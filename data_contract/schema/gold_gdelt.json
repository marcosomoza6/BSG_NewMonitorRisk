{
  "name": "gold_gdelt_risk_metrics",
  "layer": "gold",
  "description": "Daily risk metrics aggregated from GDELT events, by country and city. Stored in BigQuery.",
  "storage": {
    "type": "bigquery",
    "project": "new-risk-monitor",
    "dataset": "BSG_DS_NMR",
    "table": "T_DW_BSG_GDELT_RISK_EVENTS",
    "location": "us-east1"
  },
  "schema": {
    "type": "object",
    "properties": {
      "DTE_EVENT": { "type": "string", "format": "date", "description": "Event date (DATE) partition field." },
      "NAM_COUNTRY": { "type": "string", "minLength": 2, "maxLength": 2 },
      "NAM_CITY": { "type": ["string", "null"], "description": "City extracted from ActionGeo_Fullname. Can be null." },
      "CNT_EVENTS": { "type": "integer" },
      "NUM_RISK_SCORE": { "type": "number" },
      "NUM_GOLDSTEIN_AVG": { "type": "number" }
    },
    "required": ["DTE_EVENT", "NAM_COUNTRY", "CNT_EVENTS", "NUM_RISK_SCORE", "NUM_GOLDSTEIN_AVG"]
  }
}



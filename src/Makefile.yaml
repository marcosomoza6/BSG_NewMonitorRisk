##########################################################################################################
# Archivo     : Makefile.yaml                                                                            #
# Nombre      : Marco Somoza                                                                             #
# Descripción : Makefile de apoyo para desarrollo local del proyecto New Risk Monitor.                   #
#                                                                                                        #
#               Proporciona comandos estandarizados para:                                                #
#               - Crear y activar un entorno virtual de Python.                                          #
#               - Instalar dependencias del proyecto.                                                    #
#               - Ejecutar pruebas automatizadas.                                                        #
#               - Validar compilación e imports del código (lint básico).                                #
#               - Ejecutar el entrypoint del pipeline en modo local.                                     #
#                                                                                                        #
#               Este archivo está pensado para:                                                          #
#               - Facilitar el desarrollo reproducible.                                                  #
#               - Integrarse fácilmente con CI (GitHub Actions).                                         #
#               - Evitar comandos manuales repetitivos.                                                  #
#                                                                                                        #
##########################################################################################################
.PHONY: venv install test run lint

venv:
	python -m venv .venv

install:
	. .venv/bin/activate && pip install -r requirements.txt

test:
	. .venv/bin/activate && pytest -q

lint:
	. .venv/bin/activate && python -m compileall src

run:
	. .venv/bin/activate && python -m pipeline.main
